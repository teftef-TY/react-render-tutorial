# React SSR rendering tutorial

## なぜ呼び分けがされているのか
SSR という言葉は Single Page Application (以下SPA)を構築する際のオプション機能を指すようです。

オプションというのは SPA を構築する上で必須ではないからです。

つまり、SSRは、それ単体で使用されるというより、SPAと組み合わせて使用されるアーキテクチャであるようです。

## SPA と組み合わせて使うメリット
レンダリングをサーバー側で行えるので、通常のSPAと比べて初回読み込みに時間がかからない

SSR を行う目的は、Web アプリケーションを SPA にすることと引き換えに失った

① 初回描画速度（First Meaningful Paint => FMP）
② ページごとの静的HTML

を取り戻すことです。

SPA は初回アクセス時に全ページの描画に必要な JavaScript ファイルをダウンロードします。
そしてページを切り替え時に対象ページの描画に必要な部分だけを取得・更新することで、非常に快適な操作性を実現しました。
しかし初アクセス時のリソースファイル量及び初期化処理も重くなってしまい、初回描画速度低下につながります。

とある研究結果 によると、ページの表示に 3 秒以上かかるサイトではモバイルユーザーの 53% が離脱するようです。
中規模以上の SPA の場合、アプリケーションの立ち上げに数秒程度を要してしまうため、サービスの規模が大きくなるに連れて、この問題は無視できないものになっていきます。

SPA の各ページへアクセスした際に、レスポンスとして返ってくる HTML は常に index.html です。
この index.html には共通のソースコードが記述されており、アクセスしたページによって差はありません。
SPA では index.html 内の初期化処理で現在自分がいる URL を把握し、そのページに対応したコンテンツを動的に生成するからです。

この処理に関してユーザーへの影響はありませんが、サイトを確認しに来たクローラーにとっては大問題です。
検索エンジン以外のクローラーは JavaScript を実行できず、常に index.html の内容を認識してしまいます。

もう少し具体的に言うと、Fetch as Google に関しては問題ありません が、Twitter や FaceBook、LINE、Slack 等のビジュアライザーが正常に機能しません。
2018 年現在 SNS からの流入が無視できない規模になっている現状を考えると、どうしても最低限の SSR は必要だと考えられます。

逆に Twitter 等のクローラーがアップデートされ、JavaScript を正常に実行してくれるようになりさえすれば、SEO 的観点からの SSR は ほぼ不要 となるかもしれません。

## 概念図


> Note
>
>参考にさせてもらった記事
>
>[link_1](https://zenn.dev/rinda_1994/articles/e6d8e3150b312d#ssr)
>
>[link_2](https://qiita.com/MasanobuAkiba/items/7adcfd5050150ac9ba36)
